{% extends "master.phtml" %}
{% block body %}
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <h2>Neue Trigger-Alert Relation herstellen.</h2>
            <h3>Port: {{ port.getName()|e }}</h3>
            <form action="/addAlertToTrigger/saveRelation" , method="post">
                <input type="hidden" name="portID" value="{{ port.getID()|e }}">
                <input type="hidden" name="triggerID" value="{{ trigger.getID()|e }}">
                <div class="form-group">
                    <label for="type" class="col-sm-2 control-label">Alert</label>
                    <div class="col-sm-10">
                        <select id="type" class="form-control" name="alertID">
                            {% for alert in alerts %}
                                <option value="{{ alert.getID()|e }}">{{ alert.getName()|e }}
                                    ({{ alert.getType()|e }})
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <button class="btn btn-primary" type="submit">Speichern</button>
            </form>
            <div class="panel panel-info">
                <div class="panel-heading">
                    Was macht eine Trigger-Alert-Verbindung?
                </div>
                <div class="panel-body">
                    <p>Ein Trigger wird bei jeder Statusänderung des Ports aufgerufen. Liegt der Wert des Ports
                        innerhalb des für den Trigger eingestellten Bereichs, so ruft dieser alle die für ihn
                        assozierten Alerts auf.</p>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block head %}
    <style>
        div.panel {
            margin-top: 20px;
        }
    </style>
{% endblock %}