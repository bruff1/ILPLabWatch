<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Labor Watch</title>

    <style>
        .red {
            background-color: red;
        }
        .green {
            background-color: green;
        }
        .yellow {
            background-color: yellow;
        }
    </style>
    <script src="jquery" type="text/javascript"></script>
	<script type="text/javascript">
		$(function(){
			var intervalID;
			var sec = 1;
			intervalID = setInterval(refresh, sec * 1000);

			function refresh() {
                $.getJSON("../api", function (data) {
                    $.each(data, function (index) {
                        var name = data[index].name;
                        var state = data[index].state;
                        if (state == 1){
                            $("#" + name).attr("class", "input-status red");
                            $("#" + name).text(state);
                        } else {
                            $("#" + name).attr("class", "input-status green");
                            $("#" + name).text(state);
                        }
                    });
                });
			}
		});
	</script>
</head>
<body>
    <h1>Labor Watch</h1>
    <noscript>
        <p><strong>Warning! </strong>Please activate JavaScript to use this interface.</p>
    </noscript>
    <h2>current status</h2>
    <table id="status-table" border="1px">
        <tr id="status-table-top">
            <td><b>Name</b></td>
        </tr>
        <tr id="status-table-bottom">
            <td><b>Status</b></td>
        </tr>
    </table>
    <p>All informations updated every second. All security and turn-off functions running on a delay of 0.1 sec</p>
    <h2>more information</h2>
    <ul>
        <li><a href="/portOverview">display port list</a></li>
        <li><a href="/addPort">add Port</a></li>
        <li><a href="/logload">download log data</a></li>
        <li><a href="/plot">generate plots</a></li>
    </ul>
</body>
</html>